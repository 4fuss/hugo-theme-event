{{ define "main" }}

  <div class="single-speaker">
    <div class="theme-content single-speaker__content">
      <div>
        {{- partial "speaker-avatar.html" (
          dict
          "avatarResource" (.Resources.GetMatch "avatar.*")
          "avatarAlt" page.Title
          "linkedinUrl" page.Params.linkedinUrl
          "xUrl" page.Params.xUrl
          "companyUrl" page.Params.company
          )
        }}
      </div>

      <div class="single-speaker__biography">
        {{- partial "speaker-biography.html" (
          dict
          "speakerName" page.Title
          "speakerSlogan" page.Params.tagLine
          "speakerBiography" page.RawContent
          )
        }}
      </div>
    </div>
  </div>

  {{- $speakerSessions := slice }}
  {{ range where .Site.RegularPages "Section" "sessions" }}
    {{ if in .Params.speakerIds page.Params.speakerId }}
      {{- $speakerSessions = $speakerSessions | append (
        dict
        "title" .Title
        "track" .Params.track
        "startsAt" .Params.startsAt
        "room" .Params.room.name
        "sessionUrl" .Permalink
        )
      }}
    {{ end }}
  {{ end }}


  <div class="speaker-sessions">
    <section class="theme-content speaker-sessions__content">
      <h1 class="h1">
        {{- T "single_speaker_sessions_by" }}
        <span>
          {{- partial "elements/hashtag.html" (dict "hashtag" page.Title) }}
        </span>
      </h1>
      {{- partial "sessions-menu.html" (
        dict
        "title" page.Title
        "sessions" $speakerSessions
        )
      }}
    </section>
  </div>

  <div class="section-container section-container--highlighted">
    {{- partial "sections/cta.html" (
      dict
      "eventbriteId" .Site.Params.themes.event.callToAction.eventbrite.eventId
      "ctaUrl" .Site.Params.themes.event.callToAction.other.url
      )
    }}
    <div></div>
  </div>
{{ end }}
