<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="{{ .Site.Params.themes.event.favicon | absURL }}"
    />
    {{- with resources.Get "styles/index.css" -}}
      {{- $secureCss := . | fingerprint -}}
      <link
        rel="stylesheet"
        href="{{ $secureCss.RelPermalink }}"
        type="text/css"
        media="screen"
        integrity="{{ $secureCss.Data.Integrity }}"
      />
    {{- end -}}
    <title>
      {{- if .Title -}}{{ .Title }} -{{ end }}
      {{ .Site.Params.themes.event.title }}
    </title>
  </head>
  <body>
    <header>
      <nav>
        <menu>
          <li>
            <a
              {{- if .IsHome }}
                class="active"
              {{- end }}
              href="{{ site.Home.Permalink }}"
            >
              {{ or (T "menu_home") "Home" | safeHTML }}
            </a>
          </li>

          {{- $currentNode := . }}
          {{- range site.Menus.main }}
            <li>
              <a
                href="{{ .URL }}"
                {{- if or ($currentNode.IsMenuCurrent "main" .) ($currentNode.HasMenuCurrent "main" .) -}}
                  class="active"
                {{- end -}}
              >
                {{- or (T (printf "menu_%s" .Identifier)) .Name | safeHTML -}}
              </a>
            </li>
          {{- end }}

        </menu>
      </nav>
    </header>

    <main>
      {{ block "main" . }}{{ end }}
    </main>

    <footer>
      <menu>
        {{ range $.Site.Home.AllTranslations }}
          <li><a href="{{ .RelPermalink }}">{{ .Language }}</a></li>
        {{ end }}
      </menu>
      <small>
        <nav>
          {{- range site.Menus.footer }}
            <a href="{{ .URL }}">
              {{- or (T (printf "menu_%s" .Identifier)) .Name | safeHTML -}}
            </a>
          {{- end }}
        </nav>
      </small>
    </footer>
  </body>
</html>
