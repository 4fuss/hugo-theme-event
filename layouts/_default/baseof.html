<!doctype html>
<html lang="{{- .Site.Language.Lang -}}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="{{ .Site.Params.themes.event.favicon | absURL }}"
    />
    {{- with resources.Get "styles/index.css" }}
      {{- $secureCss := . | fingerprint }}
      <link
        rel="stylesheet"
        href="{{ $secureCss.RelPermalink }}"
        type="text/css"
        media="screen"
        integrity="{{ $secureCss.Data.Integrity }}"
      />
    {{- end }}
    <title>
      {{- if .Title }}{{ .Title }} -{{ end }}
      {{ .Site.Params.themes.event.title }}
    </title>
    {{ if .IsTranslated }}
      {{ range .Translations }}
        <link
          rel="alternate"
          hreflang="{{ .Language.Lang }}"
          href="{{ .Permalink }}"
        />
      {{ end }}
      <link
        rel="alternate"
        hreflang="{{ .Language.Lang }}"
        href="{{ .Permalink }}"
      />
    {{ end }}
  </head>
  <body>
    <header>
      <nav>
        <menu>
          <li>
            <a
              {{- if .IsHome }}
                class="active"
              {{- end }}
              href="{{ site.Home.Permalink }}"
            >
              {{ or (T "menu_home") "Home" | safeHTML }}
            </a>
          </li>

          {{- $currentNode := . }}
          {{- range site.Menus.main }}
            <li>
              <a
                href="{{ .URL }}"
                {{- if or ($currentNode.IsMenuCurrent "main" .) ($currentNode.HasMenuCurrent "main" .) }}
                  class="active"
                {{- end }}
              >
                {{- or (T (printf "menu_%s" .Identifier)) .Name | safeHTML }}
              </a>
            </li>
          {{- end }}

        </menu>
      </nav>
    </header>

    <main>
      {{ block "main" . }}{{ end }}
    </main>

    <footer>
      <div id="footer-start">
        <select name="language" onchange="location = this.value;">
          {{ range $.Site.Home.AllTranslations }}
            <option
              value="{{ .RelPermalink }}"
              {{ if eq .Language $.Language }}
                selected
              {{ end }}
            >
              {{ .Language }}
            </option>
          {{ end }}
        </select>
          {{- range site.Menus.footer }}
            <a href="{{ .URL }}">
              {{- or (T (printf "menu_%s" .Identifier)) .Name | safeHTML }}
            </a>
          {{- end }}
      <a id="made-by" href="https://medialesson.de">
        Made with
        {{ with resources.Get "logos/medialesson-heart.svg" }}
          <img
            src="{{ .RelPermalink }}"
            width="9.96"
            height="9.96"
            alt="heart"
          />
        {{ end }}
        by
        {{ with resources.Get "logos/medialesson.svg" }}
          <img
            src="{{ .RelPermalink }}"
            width="130.6px"
            height="17.94px"
            alt="Medialsson"
          />
        {{ end }}
      </a>
    </footer>
  </body>
</html>
